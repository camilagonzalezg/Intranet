Ù
ID:\Cami\Web\Intranet\IntranetWeb\IntranetModel\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str (
)( )
]) *
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str *
)* +
]+ ,
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
[## 
assembly## 	
:##	 

AssemblyVersion## 
(## 
$str## $
)##$ %
]##% &
[$$ 
assembly$$ 	
:$$	 

AssemblyFileVersion$$ 
($$ 
$str$$ (
)$$( )
]$$) *æ
HD:\Cami\Web\Intranet\IntranetWeb\IntranetModel\Partials\PaginaParcial.cs
	namespace 	
IntranetModel
 
{ 
public 

partial 
class 
Paginas  
{ 
private 
Usuarios 
_usuarioAutorEntity ,
;, -
private

 
void

 
LoadRelatedEntities

 (
(

( )
)

) *
{ 	
using 
( 
var 
db 
= 
new 
IntranetEntities  0
(0 1
)1 2
)2 3
{ 
if 
( 
! 
string 
. 
IsNullOrEmpty )
() *
this* .
.. /
usuarioAutor/ ;
); <
)< =
{ 
_usuarioAutorEntity '
=( )
db* ,
., -
Usuarios- 5
.5 6
FirstOrDefault6 D
(D E
uE F
=>G I
uJ K
.K L
nombreL R
==S U
thisV Z
.Z [
usuarioAutor[ g
)g h
;h i
} 
} 
} 	
public 
string 
AutorNombre !
{ 	
get 
{ 
if 
( 
_usuarioAutorEntity '
==( *
null+ /
)/ 0
{ 
LoadRelatedEntities '
(' (
)( )
;) *
} 
return 
_usuarioAutorEntity *
!=+ -
null. 2
?3 4
_usuarioAutorEntity5 H
.H I
nombreI O
:P Q
$strR W
;W X
} 
} 	
}   
}!! ì>
ID:\Cami\Web\Intranet\IntranetWeb\IntranetModel\Partials\UsuarioParcial.cs
	namespace 	
IntranetModel
 
{ 
public 

partial 
class 
Usuarios !
{ 
private 
TiposContrato 
_tipoContratoEntity 1
;1 2
private		 
	Gerencias		 
_gerenciaEntity		 )
;		) *
private

 
Subgerencias

 
_subgerenciaEntity

 /
;

/ 0
private 
Departamentos 
_departamentoEntity 1
;1 2
private 
Ubicaciones 
_ubicacionEntity ,
;, -
private 
RolesUsuario 
_rolesUsuarioEntity 0
;0 1
private 
void 
LoadRelatedEntities (
(( )
)) *
{ 	
using 
( 
var 
db 
= 
new 
IntranetEntities  0
(0 1
)1 2
)2 3
{ 
if 
( 
this 
. 
idTipoContrato '
.' (
HasValue( 0
)0 1
{ 
_tipoContratoEntity '
=( )
db* ,
., -
TiposContrato- :
.: ;
FirstOrDefault; I
(I J
tcJ L
=>M O
tcP R
.R S
idS U
==V X
thisY ]
.] ^
idTipoContrato^ l
.l m
Valuem r
)r s
;s t
} 
if 
( 
this 
. 

idGerencia #
.# $
HasValue$ ,
), -
{ 
_gerenciaEntity #
=$ %
db& (
.( )
	Gerencias) 2
.2 3
FirstOrDefault3 A
(A B
gB C
=>D F
gG H
.H I
idI K
==L N
thisO S
.S T

idGerenciaT ^
.^ _
Value_ d
)d e
;e f
} 
if 
( 
this 
. 
idSubgerencia &
.& '
HasValue' /
)/ 0
{ 
_subgerenciaEntity &
=' (
db) +
.+ ,
Subgerencias, 8
.8 9
FirstOrDefault9 G
(G H
sgH J
=>K M
sgN P
.P Q
idQ S
==T V
thisW [
.[ \
idSubgerencia\ i
.i j
Valuej o
)o p
;p q
}   
if"" 
("" 
this"" 
."" 
idDepartamento"" '
.""' (
HasValue""( 0
)""0 1
{## 
_departamentoEntity$$ '
=$$( )
db$$* ,
.$$, -
Departamentos$$- :
.$$: ;
FirstOrDefault$$; I
($$I J
d$$J K
=>$$L N
d$$O P
.$$P Q
id$$Q S
==$$T V
this$$W [
.$$[ \
idDepartamento$$\ j
.$$j k
Value$$k p
)$$p q
;$$q r
}%% 
if'' 
('' 
this'' 
.'' 
idUbicacion'' $
.''$ %
HasValue''% -
)''- .
{(( 
_ubicacionEntity)) $
=))% &
db))' )
.))) *
Ubicaciones))* 5
.))5 6
FirstOrDefault))6 D
())D E
u))E F
=>))G I
u))J K
.))K L
id))L N
==))O Q
this))R V
.))V W
idUbicacion))W b
.))b c
Value))c h
)))h i
;))i j
}** 
if,, 
(,, 
this,, 
.,, 
idRolUsuario,, %
.,,% &
HasValue,,& .
),,. /
{-- 
_rolesUsuarioEntity.. '
=..( )
db..* ,
..., -
RolesUsuario..- 9
...9 :
FirstOrDefault..: H
(..H I
r..I J
=>..K M
r..N O
...O P
id..P R
==..S U
this..V Z
...Z [
idRolUsuario..[ g
...g h
Value..h m
)..m n
;..n o
}// 
}00 
}11 	
public33 
string33 
TipoContratoNombre33 (
{44 	
get55 
{66 
if77 
(77 
_tipoContratoEntity77 '
==77( *
null77+ /
)77/ 0
{88 
LoadRelatedEntities99 '
(99' (
)99( )
;99) *
}:: 
return;; 
_tipoContratoEntity;; *
!=;;+ -
null;;. 2
?;;3 4
_tipoContratoEntity;;5 H
.;;H I
nombre;;I O
:;;P Q
$str;;R W
;;;W X
}<< 
}== 	
public?? 
string?? 
GerenciaNombre?? $
{@@ 	
getAA 
{BB 
ifCC 
(CC 
_gerenciaEntityCC #
==CC$ &
nullCC' +
)CC+ ,
{DD 
LoadRelatedEntitiesEE '
(EE' (
)EE( )
;EE) *
}FF 
returnGG 
_gerenciaEntityGG &
!=GG' )
nullGG* .
?GG/ 0
_gerenciaEntityGG1 @
.GG@ A
nombreGGA G
:GGH I
$strGGJ O
;GGO P
}HH 
}II 	
publicKK 
stringKK 
SubgerenciaNombreKK '
{LL 	
getMM 
{NN 
ifOO 
(OO 
_subgerenciaEntityOO &
==OO' )
nullOO* .
)OO. /
{PP 
LoadRelatedEntitiesQQ '
(QQ' (
)QQ( )
;QQ) *
}RR 
returnSS 
_subgerenciaEntitySS )
!=SS* ,
nullSS- 1
?SS2 3
_subgerenciaEntitySS4 F
.SSF G
nombreSSG M
:SSN O
$strSSP U
;SSU V
}TT 
}UU 	
publicWW 
stringWW 
DepartamentoNombreWW (
{XX 	
getYY 
{ZZ 
if[[ 
([[ 
_departamentoEntity[[ '
==[[( *
null[[+ /
)[[/ 0
{\\ 
LoadRelatedEntities]] '
(]]' (
)]]( )
;]]) *
}^^ 
return__ 
_departamentoEntity__ *
!=__+ -
null__. 2
?__3 4
_departamentoEntity__5 H
.__H I
nombre__I O
:__P Q
$str__R W
;__W X
}`` 
}aa 	
publiccc 
stringcc 
UbicacionNombrecc %
{dd 	
getee 
{ff 
ifgg 
(gg 
_ubicacionEntitygg $
==gg% '
nullgg( ,
)gg, -
{hh 
LoadRelatedEntitiesii '
(ii' (
)ii( )
;ii) *
}jj 
returnkk 
_ubicacionEntitykk '
!=kk( *
nullkk+ /
?kk0 1
_ubicacionEntitykk2 B
.kkB C
nombrekkC I
:kkJ K
$strkkL Q
;kkQ R
}ll 
}mm 	
publicoo 
stringoo 
RolUsuarioNombreoo &
{pp 	
getqq 
{rr 
ifss 
(ss 
_rolesUsuarioEntityss '
==ss( *
nullss+ /
)ss/ 0
{tt 
LoadRelatedEntitiesuu '
(uu' (
)uu( )
;uu) *
}vv 
returnww 
_rolesUsuarioEntityww *
!=ww+ -
nullww. 2
?ww3 4
_rolesUsuarioEntityww5 H
.wwH I
nombrewwI O
:wwP Q
$strwwR W
;wwW X
}xx 
}yy 	
}zz 
}{{ …
ID:\Cami\Web\Intranet\IntranetWeb\IntranetModel\Partials\NoticiaParcial.cs
	namespace 	
IntranetModel
 
{ 
public 

partial 
class 
Noticias !
{ 
private		 
Usuarios		 
_usuarioAutorEntity		 ,
;		, -
private

 
ICollection

 
<

 
ComentariosNoticias

 /
>

/ 0(
_comentariosNoticiasEntities

1 M
;

M N
private 
void 
LoadRelatedEntities (
(( )
)) *
{ 	
using 
( 
var 
db 
= 
new 
IntranetEntities  0
(0 1
)1 2
)2 3
{ 
if 
( 
! 
string 
. 
IsNullOrEmpty )
() *
this* .
.. /
usuarioAutor/ ;
); <
)< =
{ 
_usuarioAutorEntity '
=( )
db* ,
., -
Usuarios- 5
.5 6
FirstOrDefault6 D
(D E
uE F
=>G I
uJ K
.K L
nombreL R
==S U
thisV Z
.Z [
usuarioAutor[ g
)g h
;h i
} (
_comentariosNoticiasEntities ,
=- .
db/ 1
.1 2
ComentariosNoticias2 E
.E F
WhereF K
(K L
cnL N
=>O Q
cnR T
.T U
	idNoticiaU ^
==_ a
thisb f
.f g
idg i
)i j
.j k
ToListk q
(q r
)r s
;s t
} 
} 	
public 
string 
AutorNombre !
{ 	
get 
{ 
if 
( 
_usuarioAutorEntity '
==( *
null+ /
)/ 0
{ 
LoadRelatedEntities '
(' (
)( )
;) *
}   
return!! 
_usuarioAutorEntity!! *
!=!!+ -
null!!. 2
?!!3 4
_usuarioAutorEntity!!5 H
.!!H I
nombre!!I O
:!!P Q
$str!!R W
;!!W X
}"" 
}## 	
public%% 
List%% 
<%% 
string%% 
>%% 
Comentarios%% '
{&& 	
get'' 
{(( 
if)) 
()) (
_comentariosNoticiasEntities)) 0
==))1 3
null))4 8
)))8 9
{** 
LoadRelatedEntities++ '
(++' (
)++( )
;++) *
},, 
return-- (
_comentariosNoticiasEntities-- 3
!=--4 6
null--7 ;
?--< =(
_comentariosNoticiasEntities--> Z
.--Z [
Select--[ a
(--a b
cn--b d
=>--e g
cn--h j
.--j k
comentarioTexto--k z
)--z {
.--{ |
ToList	--| Ç
(
--Ç É
)
--É Ñ
:
--Ö Ü
new
--á ä
List
--ã è
<
--è ê
string
--ê ñ
>
--ñ ó
(
--ó ò
)
--ò ô
;
--ô ö
}.. 
}// 	
}00 
}11 ∑'
AD:\Cami\Web\Intranet\IntranetWeb\IntranetModel\DAL\UsuariosDAL.cs
	namespace 	
IntranetModel
 
. 
DAL 
{ 
public		 

class		 
UsuariosDAL		 
{

 
private 
IntranetEntities  

dbEntities! +
=, -
new. 1
IntranetEntities2 B
(B C
)C D
;D E
public 
void 
Add 
( 
Usuarios  
u! "
)" #
{ 	

dbEntities 
. 
Usuarios 
.  
Add  #
(# $
u$ %
)% &
;& '

dbEntities 
. 
SaveChanges "
(" #
)# $
;$ %
} 	
public 
List 
< 
Usuarios 
> 
GetAll $
($ %
)% &
{ 	
return 

dbEntities 
. 
Usuarios &
.& '
ToList' -
(- .
). /
;/ 0
} 	
public 
List 
< 
Usuarios 
> 
GetAll $
($ %
string% +
nombre, 2
)2 3
{ 	
return 

dbEntities 
. 
Usuarios &
.& '
Where' ,
(, -
u- .
=>/ 1
u2 3
.3 4
nombre4 :
==; =
nombre> D
)D E
.E F
ToListF L
(L M
)M N
;N O
} 	
public!! 
Usuarios!! 
GetByRut!!  
(!!  !
string!!! '
rut!!( +
)!!+ ,
{"" 	
return## 

dbEntities## 
.## 
Usuarios## &
.##& '
FirstOrDefault##' 5
(##5 6
u##6 7
=>##8 :
u##; <
.##< =

rutUsuario##= G
==##H J
rut##K N
)##N O
;##O P
}$$ 	
public'' 
void'' 
Remove'' 
('' 
string'' !
rut''" %
)''% &
{(( 	
Usuarios)) 
usuario)) 
=)) 

dbEntities)) )
.))) *
Usuarios))* 2
.))2 3
FirstOrDefault))3 A
())A B
u))B C
=>))D F
u))G H
.))H I

rutUsuario))I S
==))T V
rut))W Z
)))Z [
;))[ \
if** 
(** 
usuario** 
!=** 
null** 
)**  
{++ 

dbEntities,, 
.,, 
Usuarios,, #
.,,# $
Remove,,$ *
(,,* +
usuario,,+ 2
),,2 3
;,,3 4

dbEntities-- 
.-- 
SaveChanges-- &
(--& '
)--' (
;--( )
}.. 
}// 	
public22 
void22 
Update22 
(22 
Usuarios22 #
u22$ %
)22% &
{33 	

dbEntities44 
.44 
Entry44 
(44 
u44 
)44 
.44  
State44  %
=44& '
EntityState44( 3
.443 4
Modified444 <
;44< =

dbEntities55 
.55 
SaveChanges55 "
(55" #
)55# $
;55$ %
}66 	
public99 
List99 
<99 
Usuarios99 
>99 
GetAllWithChildren99 0
(990 1
)991 2
{:: 	
return;; 

dbEntities;; 
.;; 
Usuarios;; &
.;;& '
Include;;' .
(;;. /
u;;/ 0
=>;;1 3
u;;4 5
.;;5 6
Hijos;;6 ;
);;; <
.;;< =
Include;;= D
(;;D E
u;;E F
=>;;G I
u;;J K
.;;K L
	Gerencias;;L U
);;U V
.;;V W
Include;;W ^
(;;^ _
u;;_ `
=>;;a c
u;;d e
.;;e f
Subgerencias;;f r
);;r s
.;;s t
Include;;t {
(;;{ |
u;;| }
=>	;;~ Ä
u
;;Å Ç
.
;;Ç É
Departamentos
;;É ê
)
;;ê ë
.
;;ë í
Include
;;í ô
(
;;ô ö
u
;;ö õ
=>
;;ú û
u
;;ü †
.
;;† °
Ubicaciones
;;° ¨
)
;;¨ ≠
.
;;≠ Æ
Include
;;Æ µ
(
;;µ ∂
u
;;∂ ∑
=>
;;∏ ∫
u
;;ª º
.
;;º Ω
TiposContrato
;;Ω  
)
;;  À
.
;;À Ã
Include
;;Ã ”
(
;;” ‘
u
;;‘ ’
=>
;;÷ ÿ
u
;;Ÿ ⁄
.
;;⁄ €
RolesUsuario
;;€ Á
)
;;Á Ë
.
;;Ë È
ToList
;;È Ô
(
;;Ô 
)
;; Ò
;
;;Ò Ú
}<< 	
}?? 
}@@ √ 
DD:\Cami\Web\Intranet\IntranetWeb\IntranetModel\DAL\PromocionesDAL.cs
	namespace 	
IntranetModel
 
. 
DAL 
{ 
public		 

class		 
PromocionesDAL		 
{

 
private 
IntranetEntities  

dbEntities! +
=, -
new. 1
IntranetEntities2 B
(B C
)C D
;D E
public 
void 
Add 
( 
Promociones #
p$ %
)% &
{ 	

dbEntities 
. 
Promociones "
." #
Add# &
(& '
p' (
)( )
;) *

dbEntities 
. 
SaveChanges "
(" #
)# $
;$ %
} 	
public 
List 
< 
Promociones 
>  
GetAll! '
(' (
)( )
{ 	
return 

dbEntities 
. 
Promociones )
.) *
ToList* 0
(0 1
)1 2
;2 3
} 	
public 
List 
< 
Promociones 
>  
GetAllByRutUsuario! 3
(3 4
string4 :

rutUsuario; E
)E F
{ 	
return 

dbEntities 
. 
Promociones )
.) *
Where* /
(/ 0
p0 1
=>2 4
p5 6
.6 7

RutUsuario7 A
==B D

rutUsuarioE O
)O P
.P Q
ToListQ W
(W X
)X Y
;Y Z
} 	
public!! 
Promociones!! 
GetById!! "
(!!" #
int!!# &
idPromocion!!' 2
)!!2 3
{"" 	
return## 

dbEntities## 
.## 
Promociones## )
.##) *
FirstOrDefault##* 8
(##8 9
p##9 :
=>##; =
p##> ?
.##? @
IdPromocion##@ K
==##L N
idPromocion##O Z
)##Z [
;##[ \
}$$ 	
public'' 
void'' 
Remove'' 
('' 
int'' 
idPromocion'' *
)''* +
{(( 	
Promociones)) 
	promocion)) !
=))" #

dbEntities))$ .
.)). /
Promociones))/ :
.)): ;
FirstOrDefault)); I
())I J
p))J K
=>))L N
p))O P
.))P Q
IdPromocion))Q \
==))] _
idPromocion))` k
)))k l
;))l m
if** 
(** 
	promocion** 
!=** 
null** !
)**! "
{++ 

dbEntities,, 
.,, 
Promociones,, &
.,,& '
Remove,,' -
(,,- .
	promocion,,. 7
),,7 8
;,,8 9

dbEntities-- 
.-- 
SaveChanges-- &
(--& '
)--' (
;--( )
}.. 
}// 	
public22 
void22 
Update22 
(22 
Promociones22 &
p22' (
)22( )
{33 	

dbEntities44 
.44 
Entry44 
(44 
p44 
)44 
.44  
State44  %
=44& '
EntityState44( 3
.443 4
Modified444 <
;44< =

dbEntities55 
.55 
SaveChanges55 "
(55" #
)55# $
;55$ %
}66 	
public99 
List99 
<99 
Promociones99 
>99  
GetAllWithUsers99! 0
(990 1
)991 2
{:: 	
return;; 

dbEntities;; 
.;; 
Promociones;; )
.;;) *
Include;;* 1
(;;1 2
p;;2 3
=>;;4 6
p;;7 8
.;;8 9
Usuarios;;9 A
);;A B
.;;B C
ToList;;C I
(;;I J
);;J K
;;;K L
}<< 	
}== 
}>> ¬ 
@D:\Cami\Web\Intranet\IntranetWeb\IntranetModel\DAL\PaginasDAL.cs
	namespace 	
IntranetModel
 
. 
DAL 
{ 
public		 

class		 

PaginasDAL		 
{

 
private 
IntranetEntities  

dbEntities! +
=, -
new. 1
IntranetEntities2 B
(B C
)C D
;D E
public 
void 
Add 
( 
Paginas 
pagina  &
)& '
{ 	

dbEntities 
. 
Paginas 
. 
Add "
(" #
pagina# )
)) *
;* +

dbEntities 
. 
SaveChanges "
(" #
)# $
;$ %
} 	
public 
List 
< 
Paginas 
> 
GetAll #
(# $
)$ %
{ 	
return 

dbEntities 
. 
Paginas %
.% &
ToList& ,
(, -
)- .
;. /
} 	
public 
List 
< 
Paginas 
> 
GetAllByAuthor +
(+ ,
string, 2
autor3 8
)8 9
{ 	
return 

dbEntities 
. 
Paginas %
.% &
Where& +
(+ ,
p, -
=>. 0
p1 2
.2 3
usuarioAutor3 ?
==@ B
autorC H
)H I
.I J
ToListJ P
(P Q
)Q R
;R S
} 	
public!! 
Paginas!! 
GetById!! 
(!! 
int!! "
id!!# %
)!!% &
{"" 	
return## 

dbEntities## 
.## 
Paginas## %
.##% &
FirstOrDefault##& 4
(##4 5
p##5 6
=>##7 9
p##: ;
.##; <
id##< >
==##? A
id##B D
)##D E
;##E F
}$$ 	
public'' 
List'' 
<'' 
Paginas'' 
>'' 

GetByTitle'' '
(''' (
string''( .
titulo''/ 5
)''5 6
{(( 	
return)) 

dbEntities)) 
.)) 
Paginas)) %
.))% &
Where))& +
())+ ,
p)), -
=>)). 0
p))1 2
.))2 3
titulo))3 9
.))9 :
Contains)): B
())B C
titulo))C I
)))I J
)))J K
.))K L
ToList))L R
())R S
)))S T
;))T U
}** 	
public-- 
void-- 
Remove-- 
(-- 
int-- 
id-- !
)--! "
{.. 	
Paginas// 
pagina// 
=// 

dbEntities// '
.//' (
Paginas//( /
./// 0
FirstOrDefault//0 >
(//> ?
p//? @
=>//A C
p//D E
.//E F
id//F H
==//I K
id//L N
)//N O
;//O P
if00 
(00 
pagina00 
!=00 
null00 
)00 
{11 

dbEntities22 
.22 
Paginas22 "
.22" #
Remove22# )
(22) *
pagina22* 0
)220 1
;221 2

dbEntities33 
.33 
SaveChanges33 &
(33& '
)33' (
;33( )
}44 
}55 	
public88 
void88 
Update88 
(88 
Paginas88 "
pagina88# )
)88) *
{99 	

dbEntities:: 
.:: 
Entry:: 
(:: 
pagina:: #
)::# $
.::$ %
State::% *
=::+ ,
EntityState::- 8
.::8 9
Modified::9 A
;::A B

dbEntities;; 
.;; 
SaveChanges;; "
(;;" #
);;# $
;;;$ %
}<< 	
}== 
}>> ¡+
AD:\Cami\Web\Intranet\IntranetWeb\IntranetModel\DAL\NoticiasDAL.cs
	namespace 	
IntranetModel
 
. 
DAL 
{ 
public		 

class		 
NoticiasDAL		 
{

 
private 
IntranetEntities  

dbEntities! +
=, -
new. 1
IntranetEntities2 B
(B C
)C D
;D E
public 
void 
Add 
( 
Noticias  
noticia! (
)( )
{ 	

dbEntities 
. 
Noticias 
.  
Add  #
(# $
noticia$ +
)+ ,
;, -

dbEntities 
. 
SaveChanges "
(" #
)# $
;$ %
} 	
public 
List 
< 
Noticias 
> 
GetAll $
($ %
)% &
{ 	
return 

dbEntities 
. 
Noticias &
.& '
ToList' -
(- .
). /
;/ 0
} 	
public 
List 
< 
Noticias 
> 
GetAllByAuthor ,
(, -
string- 3
autor4 9
)9 :
{ 	
return 

dbEntities 
. 
Noticias &
.& '
Where' ,
(, -
n- .
=>/ 1
n2 3
.3 4
usuarioAutor4 @
==A C
autorD I
)I J
.J K
ToListK Q
(Q R
)R S
;S T
} 	
public!! 
Noticias!! 
GetById!! 
(!!  
int!!  #
id!!$ &
)!!& '
{"" 	
return## 

dbEntities## 
.## 
Noticias## &
.##& '
FirstOrDefault##' 5
(##5 6
n##6 7
=>##8 :
n##; <
.##< =
id##= ?
==##@ B
id##C E
)##E F
;##F G
}$$ 	
public'' 
List'' 
<'' 
Noticias'' 
>'' 

GetByTitle'' (
(''( )
string'') /
titulo''0 6
)''6 7
{(( 	
return)) 

dbEntities)) 
.)) 
Noticias)) &
.))& '
Where))' ,
()), -
n))- .
=>))/ 1
n))2 3
.))3 4
titulo))4 :
.)): ;
Contains)); C
())C D
titulo))D J
)))J K
)))K L
.))L M
ToList))M S
())S T
)))T U
;))U V
}** 	
public-- 
List-- 
<-- 
Noticias-- 
>-- !
GetByFechaPublicacion-- 3
(--3 4
DateTime--4 <
fecha--= B
)--B C
{.. 	
return// 

dbEntities// 
.// 
Noticias// &
.//& '
Where//' ,
(//, -
n//- .
=>/// 1
DbFunctions//2 =
.//= >
TruncateTime//> J
(//J K
n//K L
.//L M
fechaPublicacion//M ]
)//] ^
==//_ a
DbFunctions//b m
.//m n
TruncateTime//n z
(//z {
fecha	//{ Ä
)
//Ä Å
)
//Å Ç
.
//Ç É
ToList
//É â
(
//â ä
)
//ä ã
;
//ã å
}00 	
public33 
List33 
<33 
Noticias33 
>33 
	GetByTags33 '
(33' (
string33( .
tags33/ 3
)333 4
{44 	
return55 

dbEntities55 
.55 
Noticias55 &
.55& '
Where55' ,
(55, -
n55- .
=>55/ 1
n552 3
.553 4
tags554 8
.558 9
Contains559 A
(55A B
tags55B F
)55F G
)55G H
.55H I
ToList55I O
(55O P
)55P Q
;55Q R
}66 	
public99 
void99 
Remove99 
(99 
int99 
id99 !
)99! "
{:: 	
Noticias;; 
noticia;; 
=;; 

dbEntities;; )
.;;) *
Noticias;;* 2
.;;2 3
FirstOrDefault;;3 A
(;;A B
n;;B C
=>;;D F
n;;G H
.;;H I
id;;I K
==;;L N
id;;O Q
);;Q R
;;;R S
if<< 
(<< 
noticia<< 
!=<< 
null<< 
)<<  
{== 

dbEntities>> 
.>> 
Noticias>> #
.>># $
Remove>>$ *
(>>* +
noticia>>+ 2
)>>2 3
;>>3 4

dbEntities?? 
.?? 
SaveChanges?? &
(??& '
)??' (
;??( )
}@@ 
}AA 	
publicDD 
voidDD 
UpdateDD 
(DD 
NoticiasDD #
noticiaDD$ +
)DD+ ,
{EE 	

dbEntitiesFF 
.FF 
EntryFF 
(FF 
noticiaFF $
)FF$ %
.FF% &
StateFF& +
=FF, -
EntityStateFF. 9
.FF9 :
ModifiedFF: B
;FFB C

dbEntitiesGG 
.GG 
SaveChangesGG "
(GG" #
)GG# $
;GG$ %
}HH 	
}II 
}JJ É
>D:\Cami\Web\Intranet\IntranetWeb\IntranetModel\DAL\HijosDAL.cs
	namespace 	
IntranetModel
 
. 
DAL 
{ 
public		 

class		 
HijosDAL		 
{

 
private 
IntranetEntities  

dbEntities! +
=, -
new. 1
IntranetEntities2 B
(B C
)C D
;D E
public 
void 
Add 
( 
Hijos 
hijo "
)" #
{ 	

dbEntities 
. 
Hijos 
. 
Add  
(  !
hijo! %
)% &
;& '

dbEntities 
. 
SaveChanges "
(" #
)# $
;$ %
} 	
public 
List 
< 
Hijos 
> 
GetAll !
(! "
)" #
{ 	
return 

dbEntities 
. 
Hijos #
.# $
Include$ +
(+ ,
h, -
=>. 0
h1 2
.2 3
Usuarios3 ;
); <
.< =
ToList= C
(C D
)D E
;E F
} 	
public 
Hijos 
GetById 
( 
int  
id! #
)# $
{ 	
return 

dbEntities 
. 
Hijos #
.# $
Include$ +
(+ ,
h, -
=>. 0
h1 2
.2 3
Usuarios3 ;
); <
.< =
FirstOrDefault= K
(K L
hL M
=>N P
hQ R
.R S
idS U
==V X
idY [
)[ \
;\ ]
} 	
public!! 
List!! 
<!! 
Hijos!! 
>!! 
GetByRutUsuario!! *
(!!* +
string!!+ 1

rutUsuario!!2 <
)!!< =
{"" 	
return## 

dbEntities## 
.## 
Hijos## #
.### $
Include##$ +
(##+ ,
h##, -
=>##. 0
h##1 2
.##2 3
Usuarios##3 ;
)##; <
.##< =
Where##= B
(##B C
h##C D
=>##E G
h##H I
.##I J

rutUsuario##J T
==##U W

rutUsuario##X b
)##b c
.##c d
ToList##d j
(##j k
)##k l
;##l m
}$$ 	
public'' 
void'' 
Remove'' 
('' 
int'' 
id'' !
)''! "
{(( 	
Hijos)) 
hijo)) 
=)) 

dbEntities)) #
.))# $
Hijos))$ )
.))) *
FirstOrDefault))* 8
())8 9
h))9 :
=>)); =
h))> ?
.))? @
id))@ B
==))C E
id))F H
)))H I
;))I J
if** 
(** 
hijo** 
!=** 
null** 
)** 
{++ 

dbEntities,, 
.,, 
Hijos,,  
.,,  !
Remove,,! '
(,,' (
hijo,,( ,
),,, -
;,,- .

dbEntities-- 
.-- 
SaveChanges-- &
(--& '
)--' (
;--( )
}.. 
}// 	
public22 
void22 
Update22 
(22 
Hijos22  
hijo22! %
)22% &
{33 	

dbEntities44 
.44 
Entry44 
(44 
hijo44 !
)44! "
.44" #
State44# (
=44) *
EntityState44+ 6
.446 7
Modified447 ?
;44? @

dbEntities55 
.55 
SaveChanges55 "
(55" #
)55# $
;55$ %
}66 	
}77 
}88 £
ID:\Cami\Web\Intranet\IntranetWeb\IntranetModel\DAL\CorrespondenciasDAL.cs
	namespace 	
IntranetDAL
 
{ 
public 

class 
CorrespondenciasDAL $
{ 
private		 
IntranetEntities		  
_context		! )
;		) *
public 
CorrespondenciasDAL "
(" #
)# $
{ 	
_context 
= 
new 
IntranetEntities +
(+ ,
), -
;- .
} 	
public 
List 
< 
Correspondencias $
>$ %"
GetAllCorrespondencias& <
(< =
)= >
{ 	
return 
_context 
. 
Correspondencias ,
., -
ToList- 3
(3 4
)4 5
;5 6
} 	
public 
Correspondencias "
GetCorrespondenciaById  6
(6 7
int7 :
id; =
)= >
{ 	
return 
_context 
. 
Correspondencias ,
., -
Find- 1
(1 2
id2 4
)4 5
;5 6
} 	
public 
void 
AddCorrespondencia &
(& '
Correspondencias' 7
correspondencia8 G
)G H
{ 	
_context 
. 
Correspondencias %
.% &
Add& )
() *
correspondencia* 9
)9 :
;: ;
_context 
. 
SaveChanges  
(  !
)! "
;" #
} 	
public   
void   !
UpdateCorrespondencia   )
(  ) *
Correspondencias  * :
correspondencia  ; J
)  J K
{!! 	
_context"" 
."" 
Entry"" 
("" 
correspondencia"" *
)""* +
.""+ ,
State"", 1
=""2 3
System""4 :
."": ;
Data""; ?
.""? @
Entity""@ F
.""F G
EntityState""G R
.""R S
Modified""S [
;""[ \
_context## 
.## 
SaveChanges##  
(##  !
)##! "
;##" #
}$$ 	
public&& 
void&& !
DeleteCorrespondencia&& )
(&&) *
int&&* -
id&&. 0
)&&0 1
{'' 	
Correspondencias(( 
correspondencia(( ,
=((- .
_context((/ 7
.((7 8
Correspondencias((8 H
.((H I
Find((I M
(((M N
id((N P
)((P Q
;((Q R
if)) 
()) 
correspondencia)) 
!=))  "
null))# '
)))' (
{** 
_context++ 
.++ 
Correspondencias++ )
.++) *
Remove++* 0
(++0 1
correspondencia++1 @
)++@ A
;++A B
_context,, 
.,, 
SaveChanges,, $
(,,$ %
),,% &
;,,& '
}-- 
}.. 	
}// 
}00 